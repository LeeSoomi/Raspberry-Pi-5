ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
2-1. í„°ë¯¸ë„ ì—´ê¸°
# ë°”íƒ•í™”ë©´ ìƒë‹¨ ë©”ë‰´ë°”
# í„°ë¯¸ë„ ì•„ì´ì½˜ í´ë¦­ ë˜ëŠ”
# ë©”ë‰´ â†’ Accessories â†’ Terminal

2-2. ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ì‹¤í–‰
sudo apt update
# íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸ (30ì´ˆ-1ë¶„)

sudo apt upgrade -y
# ì‹œìŠ¤í…œ ì—…ê·¸ë ˆì´ë“œ (5-15ë¶„, ë‹¤ìš´ë¡œë“œ ì†ë„ì— ë”°ë¼)
# ì¤‘ê°„ì— ì§ˆë¬¸ ë‚˜ì˜¤ë©´ ê¸°ë³¸ê°’(Enter) ì„ íƒ

3ë‹¨ê³„: í•œê¸€ ì„¤ì¹˜3-1. í•œê¸€ í°íŠ¸ ì„¤ì¹˜
sudo apt install fonts-nanum fonts-nanum-coding fonts-nanum-extra -y
ì„¤ëª…: ë‚˜ëˆ”ê³ ë”•, ë‚˜ëˆ”ëª…ì¡°, ë‚˜ëˆ”ì½”ë”© í°íŠ¸ ì„¤ì¹˜ (ì•½ 1ë¶„)

3-2. í•œê¸€ ì…ë ¥ê¸° ì„¤ì¹˜ (ibus ë°©ì‹)
bashsudo apt install ibus ibus-hangul -y
ì„¤ëª…: ibus ì…ë ¥ê¸° í”„ë ˆì„ì›Œí¬ì™€ í•œê¸€ ì—”ì§„ ì„¤ì¹˜ (ì•½ 1ë¶„)

3-3. ibusë¥¼ ê¸°ë³¸ ì…ë ¥ê¸°ë¡œ ì„¤ì •
bashim-config -n ibus
ì„¤ëª…: ì…ë ¥ê¸° ì„¤ì • ë„êµ¬ ì‹¤í–‰

ì°½ì´ ëœ¨ë©´ "OK" í´ë¦­
"Yes" í´ë¦­
"ibus" ì„ íƒ â†’ "OK"

3-4. ì¬ë¶€íŒ…
sudo reboot

# ì¬ë¶€íŒ… í›„ í„°ë¯¸ë„ì—ì„œ
ibus-setupì„¤ì • ê³¼ì •:
1. IBus Preferences ì°½ì´ ì—´ë¦¼
2. "Input Method" íƒ­ í´ë¦­
3. "Add" ë²„íŠ¼ í´ë¦­
4. ê²€ìƒ‰ì°½ì— "Korean" ì…ë ¥
5. "Korean - Hangul" ì„ íƒ â†’ "Add" í´ë¦­
6. ì°½ ë‹«ê¸°

3-6. í•œì˜ ì „í™˜ í…ŒìŠ¤íŠ¸
# ì•„ë¬´ í…ìŠ¤íŠ¸ ì—ë””í„° ì—´ê¸° (ì˜ˆ: Text Editor)
# í•œì˜ ì „í™˜ í‚¤: Shift + Space
# ë˜ëŠ”: Super(Windowsí‚¤) + Space
ì²´í¬í¬ì¸íŠ¸: í•œê¸€ ì…ë ¥ì´ ë˜ëŠ”ì§€ í™•ì¸

4ë‹¨ê³„: VS Code ì„¤ì¹˜

4-1. VS Code ARM64 ë‹¤ìš´ë¡œë“œ
sudo apt install software-properties-common apt-transport-https wget -y
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/
sudo sh -c 'echo "deb [arch=arm64] https://packages.microsoft.com/repos/code stable main" > /etc/apt/sources.list.d/vscode.list'
sudo apt update
sudo apt install code -y

4-4. VS Code ì‹¤í–‰
# ë°©ë²• 1: í„°ë¯¸ë„ì—ì„œ
code


4-5. VS Code í•œê¸€ ì„¤ì • (ì„ íƒì‚¬í•­)
1. VS Code ì‹¤í–‰
2. ì™¼ìª½ Extensions ì•„ì´ì½˜ í´ë¦­ (ë„¤ëª¨ 4ê°œ)
3. ê²€ìƒ‰: "Korean Language Pack"
4. "Korean Language Pack for Visual Studio Code" ì„¤ì¹˜


5ë‹¨ê³„: OpenCV ì„¤ì¹˜
sudo apt install -y python3-opencv libopencv-dev

ì„¤ëª…:
python3-opencv: Pythonìš© OpenCV
libopencv-dev: C++ ê°œë°œìš© ë¼ì´ë¸ŒëŸ¬ë¦¬

5-2. ì¶”ê°€ ì´ë¯¸ì§€ ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
sudo apt install -y python3-pil python3-numpy
ì„¤ëª…: Pillow(ì´ë¯¸ì§€ ì²˜ë¦¬), NumPy(ìˆ˜ì¹˜ ê³„ì‚°) ì„¤ì¹˜

5-3. OpenCV ì„¤ì¹˜ í™•ì¸
python3 -c "import cv2; print('OpenCV version:', cv2.__version__)"ì˜ˆìƒ ì¶œë ¥:
OpenCV version: 4.6.0
ì°¸ê³ : Bookwormì˜ APT ë²„ì „ì€ 4.6.0ì…ë‹ˆë‹¤ (ì¶©ë¶„íˆ ì•ˆì •ì )

5-4. NumPy í™•ì¸
python3 -c "import numpy as np; print('NumPy version:', np.__version__)"
ì˜ˆìƒ ì¶œë ¥:
NumPy version: 1.24.x


5-5. OpenCV ì¹´ë©”ë¼ í…ŒìŠ¤íŠ¸ (ì„ íƒì‚¬í•­, ì¹´ë©”ë¼ ì—°ê²° ì‹œ)

# test_camera.py ìƒì„±
import cv2
# ì¹´ë©”ë¼ ì—´ê¸°
cap = cv2.VideoCapture(0)

if not cap.isOpened():
    print("ì¹´ë©”ë¼ë¥¼ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
    exit()

print("ì¹´ë©”ë¼ í…ŒìŠ¤íŠ¸ ì‹œì‘ (që¥¼ ëˆŒëŸ¬ ì¢…ë£Œ)")

while True:
    ret, frame = cap.read()
    if not ret:
        break
    
    cv2.imshow('Camera Test', frame)
    
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cap.release()
cv2.destroyAllWindows()

# ì‹¤í–‰
python3 ~/test_camera.py


5-6. OpenCV ê¸°ë³¸ í…ŒìŠ¤íŠ¸
# ì´ë¯¸ì§€ ìƒì„± í…ŒìŠ¤íŠ¸
import cv2
import numpy as np

# ë¹ˆ ì´ë¯¸ì§€ ìƒì„±
img = np.zeros((400, 600, 3), dtype=np.uint8)

# ë„í˜• ê·¸ë¦¬ê¸°
cv2.rectangle(img, (50, 50), (550, 350), (0, 255, 0), 3)
cv2.circle(img, (300, 200), 80, (255, 0, 0), -1)
cv2.putText(img, "OpenCV Test", (180, 220), 
            cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 255, 255), 2)

print("OpenCV í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ìƒì„± ì™„ë£Œ")
print("ì°½ì´ ì—´ë¦½ë‹ˆë‹¤. ì•„ë¬´ í‚¤ë‚˜ ëˆ„ë¥´ë©´ ì¢…ë£Œë©ë‹ˆë‹¤.")

cv2.imshow("OpenCV Test", img)
cv2.waitKey(0)
cv2.destroyAllWindows()

print("OpenCV ì •ìƒ ì‘ë™!")



6ë‹¨ê³„: TensorFlowìš© ê°€ìƒí™˜ê²½ ì„¤ì •
6-1. ê°€ìƒí™˜ê²½ ë„êµ¬ ì„¤ì¹˜
sudo apt install python3-pip python3-venv -y
ì„¤ëª…: pipì™€ venv ì„¤ì¹˜ (ì•½ 30ì´ˆ)

6-2. Python ë²„ì „ í™•ì¸
python3 --version
ì˜ˆìƒ ì¶œë ¥: Python 3.11.x

6-3. TensorFlow ì „ìš© ê°€ìƒí™˜ê²½ ìƒì„±
cd ~
python3 -m venv env
ì„¤ëª…: í™ˆ ë””ë ‰í† ë¦¬ì— envë¼ëŠ” ê°€ìƒí™˜ê²½ ìƒì„± (ì•½ 30ì´ˆ)


6-4. ê°€ìƒí™˜ê²½ í™œì„±í™”
source ~/env/bin/activate
í™•ì¸ ë°©ë²•:
bash# í”„ë¡¬í”„íŠ¸ê°€ ì´ë ‡ê²Œ ë³€ê²½ë˜ì–´ì•¼ í•¨:
(env) pi@raspberrypi:~ $


6-5. pip ì—…ê·¸ë ˆì´ë“œ
pip install --upgrade pip
ì„¤ëª…: ìµœì‹  pipìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ (ì•½ 30ì´ˆ)
#í”„ë¡¬í”„íŠ¸ì— (env) í‘œì‹œ í™•ì¸

7ë‹¨ê³„: TensorFlow Lite ì„¤ì¹˜
7-1. NumPy ì„¤ì¹˜ (ê°€ìƒí™˜ê²½ ë‚´)
# ê°€ìƒí™˜ê²½ í™œì„±í™” í™•ì¸ í›„
pip install numpy
#ì„¤ëª…: TensorFlow í˜¸í™˜ NumPy ì„¤ì¹˜ (ì•½ 1ë¶„)

7-2. TensorFlow Lite ì„¤ì¹˜
pip install tflite-runtime
ì„¤ëª…: ê²½ëŸ‰í™”ëœ TensorFlow ëŸ°íƒ€ì„ ì„¤ì¹˜ (ì•½ 1-2ë¶„)

7-3. TensorFlow Lite í…ŒìŠ¤íŠ¸
python3 << EOF
try:
    import tflite_runtime.interpreter as tflite
    print("âœ… TensorFlow Lite ì„¤ì¹˜ ì„±ê³µ!")
    print("TFLite Runtime ì‚¬ìš© ê°€ëŠ¥")
except ImportError as e:
    print(f"âŒ TFLite ì„¤ì¹˜ ì‹¤íŒ¨: {e}")
EOF
ì˜ˆìƒ ì¶œë ¥:
âœ… TensorFlow Lite ì„¤ì¹˜ ì„±ê³µ!
TFLite Runtime ì‚¬ìš© ê°€ëŠ¥


7-4. (ì„ íƒ) í’€ TensorFlow ì„¤ì¹˜ ì‹œë„
# ê²½ê³ : ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ, TFLiteë¡œ ì¶©ë¶„í•˜ë©´ ê±´ë„ˆë›°ê¸°

# ê³µì‹ pip (ì‹¤íŒ¨ ê°€ëŠ¥ì„± ë†’ìŒ)
pip install tensorflow

# ë˜ëŠ” ì»¤ë®¤ë‹ˆí‹° ë¹Œë“œ (ë” ì•ˆì •ì )
pip install https://github.com/PINTO0309/Tensorflow-bin/releases/download/v2.15.0.post1/tensorflow-2.15.0.post1-cp311-none-linux_aarch64.whl
âš ï¸ ì£¼ì˜: í’€ TensorFlowëŠ” ì„¤ì¹˜ ì‹¤íŒ¨ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.

7-5. ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ê°€ìƒí™˜ê²½ ë‚´)
pip install matplotlib pillow
ì„¤ëª…:
matplotlib: ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
pillow: ì´ë¯¸ì§€ ì²˜ë¦¬

7-6. ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ í™•ì¸
pip list
ì£¼ìš” íŒ¨í‚¤ì§€ í™•ì¸:
numpy            1.26.x
tflite-runtime   2.x.x
matplotlib       3.x.x
pillow           10.x.x


7-7. ê°€ìƒí™˜ê²½ ë¹„í™œì„±í™”
deactivate
ì„¤ëª…: TensorFlow ì‘ì—…ì´ ëë‚˜ë©´ ê°€ìƒí™˜ê²½ ì¢…ë£Œ
ì²´í¬í¬ì¸íŠ¸: TFLiteê°€ ì •ìƒ import ë˜ëŠ”ì§€ í™•ì¸

8ë‹¨ê³„: TensorFlow í…ŒìŠ¤íŠ¸
8-1. TensorFlow í…ŒìŠ¤íŠ¸ (ê°€ìƒí™˜ê²½)
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source ~/env/bin/activate

python3 << 'EOF'
print("=" * 50)
print("TensorFlow ê°€ìƒí™˜ê²½ í…ŒìŠ¤íŠ¸")
print("=" * 50)

try:
    import tflite_runtime.interpreter as tflite
    print("âœ… TensorFlow Lite: ì„¤ì¹˜ ì™„ë£Œ")
except ImportError:
    print("âŒ TensorFlow Lite: ì„¤ì¹˜ ì‹¤íŒ¨")

try:
    import numpy as np
    print(f"âœ… NumPy (ê°€ìƒí™˜ê²½): {np.__version__}")
except ImportError:
    print("âŒ NumPy: ì„¤ì¹˜ ì‹¤íŒ¨")

try:
    import matplotlib
    print(f"âœ… Matplotlib: {matplotlib.__version__}")
except ImportError:
    print("âŒ Matplotlib: ì„¤ì¹˜ ì‹¤íŒ¨")

print("=" * 50)
EOF

# ê°€ìƒí™˜ê²½ ì¢…ë£Œ
deactivate


9ë‹¨ê³„: VS Code TensorFlow ì‹¤í–‰í•˜ê¸°

9-3. TensorFlow Lite í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
#TensorFlow_test.py

import sys
print(f"Python ê²½ë¡œ: {sys.executable}")
print(f"Python ë²„ì „: {sys.version}")
print()

try:
    import tflite_runtime.interpreter as tflite
    print("âœ… TensorFlow Lite ë¡œë“œ ì„±ê³µ!")
except ImportError as e:
    print(f"âŒ TensorFlow Lite ë¡œë“œ ì‹¤íŒ¨: {e}")
    print("\nê°€ìƒí™˜ê²½ì´ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:")
    print("  source ~/cos/env/bin/activate")
    sys.exit(1)

try:
    import numpy as np
    print(f"âœ… NumPy ë²„ì „: {np.__version__}")
except ImportError:
    print("âŒ NumPy ë¡œë“œ ì‹¤íŒ¨")

print("\nğŸ‰ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì •ìƒ ì‘ë™!")

ì‹¤í–‰1) VS Codeì—ì„œ ì‹¤í–‰
# 1. ì¸í„°í”„ë¦¬í„° ì„ íƒ (ìµœì´ˆ 1íšŒ)
#    Ctrl+Shift+P â†’ Python: Select Interpreter
#    â†’ /home/cos/env/bin/python

# 2. TensorFlow_test.py íŒŒì¼ ì—´ê¸°

# 3. F5 ëˆ„ë¥´ê¸° ë˜ëŠ” â–¶ ë²„íŠ¼ í´ë¦­

ì‹¤í–‰2)í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source ~/cos/env/bin/activate

# íŒŒì¼ ì‹¤í–‰
cd ~/cos/code
python TensorFlow_test.py

# ì¢…ë£Œ
deactivate

